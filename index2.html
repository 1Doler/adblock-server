<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2</title>
</head>
<br>

    <div id="ads">
        <p>Блокировщик не обнаружен.</p>
    </div>
    <div id="alt" style="display:none;">
        <p style="color:red;">Блокировщик обнаружен.</p>
    </div>
    
    <script>
        
        const dValue = 1;
        const createBanner = () => {
            
            const banner = document.createElement("div");

            banner.style.height = dValue + "px";
            banner.style.width = dValue + "px";
            banner.style.opacity = dValue;
            banner.style.zIndex = dValue;
            banner.style.position = "absolute"
            banner.style.display = "block !important"

            const bannerStyle = window.getComputedStyle(banner);
            banner.id = "adriverAdBanner";
            document.body.prepend(banner);
            
            const classes = "content-list__ad-label ad banner adriver tracker analytics ads reklama ad-sidebar adsbox adblock-blocker";
            banner.addEventListener("transitionend", () => {
                console.lob(document.getElementById(adriverAdBanner).style.display);
            });
            banner.addEventListener("animationend", () => {
                console.lob(document.getElementById(adriverAdBanner).style.display);
            });
            var observer = new MutationObserver(function(mutations) {
                const splitClasses = classes.split(" ");
                
                setTimeout(() => {
                    for (var i = 0; i < splitClasses.length; i++) {
                        var styles = window.getComputedStyle(banner, "." + splitClasses[0]);
                        if (
                            styles.display === "none"
                        ) {
                            document.getElementById("ads").style.display = "none";
                            document.getElementById("alt").style.display = "block";
                            break;
                        }  
    
                    }
                }, 100);

            });

            var config = { attributes: true };
            observer.observe(banner, config);

            banner.className = classes;

        }

        createBanner();

    </script>
</body>
</html>
